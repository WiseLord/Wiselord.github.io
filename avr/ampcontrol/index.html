<!DOCTYPE html>
<html>
	<head>
		<meta charset='utf-8'>
		<meta name="description" content="Ampcontrol : ATmega32-based amplifier control module with 32-band spectrum analyzer and FM radio support">
		<link rel="stylesheet" type="text/css" media="screen" href="../../stylesheets/stylesheet.css">
		<title>Ampcontrol</title>
	</head>
	<body>
		<!-- HEADER -->
		<div id="header_wrap" class="outer">
			<header class="inner">
				<a id="forkme_banner" href="https://github.com/WiseLord/ampcontrol">View on GitHub</a>

				<h1 id="project_title"><a id="home_link" href="../../"></a>Ampcontrol</h1>
				<h2 id="project_tagline">Amplifier control module with spectrum analyzer and FM radio</h2>

				<div id="downloads">
					<a class="zip_download_link" href="https://github.com/WiseLord/ampcontrol/zipball/m32">Download as a .zip file</a>
					<a class="tar_download_link" href="https://github.com/WiseLord/ampcontrol/tarball/m32">Download as a tar.gz file</a>
				</div>
			</header>
		</div>

		<!-- MAIN CONTENT -->
		<div id="main_content_wrap" class="outer">
			<section id="main_content" class="inner">
				<h2>Project overview</h2>
				<p>
					This system is an amplifier control module supporting various audio processors
					with I²C interface. It can be managed either with RC-5, RC-6 or NEC infrared remote control or with
					front panel 5 buttons and rotary encoder. All appropriate information during
					control is displayed on monochrome graphic LCD. When nothing is controlled, current
					time, FM radio screen or results of signal spectrum analisis are displayed.
				</p>
				<iframe width="640" height="360" src="https://www.youtube.com/embed/i6dqi8C9fBk" style="border: 0;" allowfullscreen></iframe>
				<p>
					Upstream development (git m32 branch) is focused on ATmega32 MCU with support
					of 128x64 monochrome graphic displays. This version provides many features, possibly 
					missing in other possible hardware options (ATmega16, ATmega8).
				</p>
				<p>
					Alphanumeric displays with size 16x2, which based on HD44780 (KS0066) controllers
					are also now supported, but they don't look so cute as graphic displays.
				</p>
				<h2 id="main-features" aria-hidden="true">Main features:</h2>
				<ul>
					<li>Amplifier control (mute/standby external signals)</li>
					<li>Digital audio control (feature set depends on used audio processor)</li>
					<li>32-band spectrum analyzer (0..5kHz)</li>
					<li>Sound level meter, various modes of spectrum analyzer look'n'feel</li>
					<li>RC5 and NEC remotes support with learning mode</li>
					<li>Nice graphics (icons, fonts) (only on graphic LCDs)</li>
					<li>Alarm support (per day of week)</li>
					<li>Standby timer (adjustable from 2 minutes to 5 hours)</li>
					<li>No-signal standby timer</li>
					<li>English, Russian, Belarusian, Ukrainian, Bulgarian (and possible other) localizations</li>
					<li>FM radio support</li>
					<li>Up to 50 FM stations can be saved in EEPROM</li>
					<li>10 favourite FM stations support (mapped to 0..9 buttons of remote)</li>
					<li>2-channels temperature control of power amplifier circuits</li>
				</ul>
				<h2 id="supported-audio-processors" aria-hidden="true">Supported audio processors:</h2>
				<ul>
					<li>TDA7439 - 4 stereo inputs, volume/bass/middle/treble/balance control</li>
					<li>TDA7312 - 4 stereo inputs, volume/bass/treble/balance control</li>
					<li>TDA7313/PT2313 - 3 stereo inputs, volume/bass/treble/fade/balance/loudness control</li>
					<li>TDA7314 - stereo input, volume/bass/treble/fade/balance/loudness control</li>
					<li>TDA7315 - stereo input, volume/bass/treble/balance control</li>
					<li>TDA7318 - 4 stereo inputs, volume/bass/treble/fade/balance control</li>
					<li>PT2314 - 4 stereo inputs, volume/bass/treble/balance/loudness control</li>
					<li>TDA7448 - 6-ch input, volume/fade/balance/center/subwoofer control </li>
					<li>PT2323/PT2322 - 4 stereo inputs, 5.1 input, volume/bass/treble/fade/balance/center/subwoofer/surround/3d control</li>
					<li>PGA2310 - high-end stereo volume/balance control </li>
				</ul>
				<h2 id="supported-displays" aria-hidden="true">Supported displays (for ATmega32):</h2>
				<ul>
					<li>KS0108-based 128x64 graphic display type A (<a href="https://raw.githubusercontent.com/WiseLord/ampcontrol/m32/files/sch/ks0066.png">schematic</a>)</li>
					<li>KS0108-based 128x64 graphic display type B (<a href="https://raw.githubusercontent.com/WiseLord/ampcontrol/m32/files/sch/ks0108b.png">schematic</a>)</li>
					<li>ST7920-based 128x64 graphic display (<a href="https://raw.githubusercontent.com/WiseLord/ampcontrol/m32/files/sch/st7920.png">schematic</a>)</li>
					<li>KS0066-based 16x2 alphanumeric display </li>
					<li>LS020 color 176x132 display (can be found in some Siemence mobile phones like S65) controlled via hardware SPI (<a href="https://raw.githubusercontent.com/WiseLord/ampcontrol/m32/files/sch/ls020.png">schematic</a>)
				</ul>
				<h2 id="supported-fm-tuners" aria-hidden="true">Supported FM tuners:</h2>
				<ul>
					<li>TEA5767 via I²C bus</li>
					<li>RDA5807M via I²C bus</li>
					<li>TUX032 (can be found in some Sony Car Audio) via I²C bus</li>
					<li>Tuners with LM7001 synthesizer (disables temperature control feature)</li>
				</ul>
				<h2 id="editor" aria-hidden="true">Ampcontrol EEPROM editor</h2>
				<p>
					While project uses various parameters from EEPROM memory (for example, audioprocessor and tuner selection),
					special desktop application to edit eeprom_xx.bin was designed. It allows to load, modify and save eeprom
					binary file in easy way. Ampcontrol editor can manage only eeprom files for main (m32) branch of code.
				<p>
				<img src="./editor.png" width="640" />
				</p>
					Ampcontrol editor is written on Qt5 and it's sources are availiable on
					<a href="https://github.com/WiseLord/ampcontrol/tree/m32/editor">Github</a>.
					Exetuable for windows (statically compiled) can be downloaded from
					<a href="https://www.dropbox.com/sh/nkiajkuuobk6uvi/AABCGfvy3UZC1HBU0lJsWyqKa?dl=0">Dropbox</a>
				</p>
				<h2 id="alternative-sch" aria-hidden="true">Other hardware options:</h2>
				<ul>
					<li>
						<h4>Atmega16 branch</h4>
						<span>
							This branch is based on old audio and tuner architecture (initially project was started on ATmega16
							and later main MCU was changed to ATmega32), so it lacks many features
							of upstream previously described. Only TDA7439/TDA7313/TDA7318 audio processors are
							supported (because branch uses old audio architecture). Also in latest releases ST7920 support
							was dropped in this branch due to very slow performance and big RAM requirements.
						</span>
					</li>
					<li>
						<h4>Atmega8 branch</h4>
						<span>
							This branch supports only 16x2 HD44780-based (KS0066-based) character displays
							(<a href="https://raw.githubusercontent.com/WiseLord/ampcontrol/m8/files/sch-m8.png">schematic</a>).
							Display can be connected directly or via PCF8574 I²C bus expander. In other features it repeats ATmega16 branch
						</span>
					</li>
					<li>
						<h4>Atmega8-lcd branch</h4>
						<span>
							This branch is hardcoded to be used with 16x2 character display, TDA7313 audio processors
							and it doesn't support FM radio. But it's interface localization can be switched
							between Russian and English without EEPROM reflashing, and also it supports RC5 learning mode.
							Both m8 and m8-lcd branches can be build for the same hardware, but pin reconfiguration may be required.
						</span>
					</li>
				</ul>
				<h2 id="useful-links" aria-hidden="true">Useful links:</h2>
				<ul>
					<li><a href="http://radiokot.ru/circuit/audio/other/39/">First article about project (in Russian)</a></li>
					<li><a href="http://radiokot.ru/circuit/audio/other/45/">Second article about project (in Russian)</a></li>
					<li><a href="http://www.radiokot.ru/forum/viewtopic.php?t=98758">Forum thread (in Russian)</a></li>
				</ul>
			</section>
		</div>

		<!-- FOOTER  -->
		<div id="footer_wrap" class="outer">
			<footer class="inner">
				<p class="copyright">Ampcontrol project is maintained by <a href="https://github.com/WiseLord">WiseLord</a></p>
			</footer>
		</div>
	</body>
</html>
